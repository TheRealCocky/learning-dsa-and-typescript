class Node{
    constructor(element) {
        this.value=element;
        this.next=undefined;
    }
}

class List{
    constructor() {
        this.head=undefined;
        this.counter=0;
    }

    push(element){
        const node= new Node(element);
        let current
        if(this.head== null){
            this.head=node;
        }else{
           current=this.head;
           while(current.next != null){
               current=current.next;
           }
           current.next=node;
        }
        this.counter++;
    }

    GetElementAt(position){
        if(position >=0 && position < this.counter){
            let node=this.head;
            for(let b=0; b< position && node != null;b++){
                node=node.next;
            }
            return node;
        }
        return undefined;
    }

    DeleteAt(position){
        if(position<0 || position >= this.counter){
            return undefined;
        }
        let current=this.head;
        if(position===0){
            this.head=current.next
        }else{
            let index=0;
            let previous;
            while(index< position){
                previous=current;
                current=current.next;
                index++;
            }
            previous.next=current.next;
        }
        this.counter--;
        return current;
    }

    InsertAt(position,element){
        if(position<0 || position > this.counter){
            return undefined;
        }
        let node= new Node(element);
        if(position===0){
            node.next=this.head;
            this.head=node;
        }else{
            let previous=this.GetElementAt(position-1);
            node.next=previous.next;
            previous.next=node;
        }
        this.counter++;
        return true;
    }

    ToArray(){
        let arr=[];
        let current=this.head;
        while(current != null){
            arr.push(current.value);
            current=current.next
        }
        return arr;
    }
}
const lista= new List();
lista.push(10);lista.push(20);lista.push(30);lista.push(40);lista.push(50);lista.push(60);lista.push(70);
console.log(JSON.stringify(lista,null,2));

let pegar=lista.GetElementAt(4);
console.log("pegou:",pegar.value)
let apagar=lista.DeleteAt(2);
console.log("apagou:",apagar.value);
let por= lista.InsertAt(2,899);
console.log(JSON.stringify(lista,null,2));